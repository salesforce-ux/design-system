// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

/**
 * Each Activity timeline item receives its width from the parent list. It can
 * consume the full width of the main page area or be placed in the smaller right
 * sidebar.
 *
 * ##### Accessibility
 *
 *
 * Text describing the type of timeline item is placed in a `span`. It is the
 * first element in the timeline item and should be hidden with the
 * `.slds-assistive-text` class. The `SVG` image does not need the
 * `.slds-assistive-text` class.
 *
 * @summary The activity timeline displays each of the userâ€™s upcoming, current, and past activities.
 *
 * @base
 * @name activity-timeline
 * @selector .slds-timeline__media
 * @support dev-ready
 * @category feature
 * @type data-display
 */

/**
 * @summary Create each activity timeline item in a list
 *
 * @name base
 * @selector .slds-timeline__media
 * @restrict .slds-media
 * @support dev-ready
 * @variant
 */
.slds-timeline__media,
.slds-media_timeline,
.slds-media--timeline {
  @include deprecate('4.0.0', 'Use .slds-timeline__media instead of .slds-media--timeline');
  @include feed-vertical-rule($square-icon-small-boundary, $border-width-thick);
  padding-bottom: $spacing-large;

  &:before {
    margin-left: $border-width-thin;
  }
}

/**
 * @deprecated
 * @selector .slds-timeline__title
 * @restrict .slds-timeline__media h3
 */
.slds-timeline__title {
  @include deprecate('4.0.0', '.slds-timeline__title is no longer in use, please remove from DOM.') {
    position: relative;

    &-content {
      position: relative;
      top: -1px;
      padding-right: $spacing-medium;
      background: $color-background-alt;
      z-index: 2;
    }

    &:after {
      position: absolute;
      right: 0;
      bottom: $spacing-x-small;
      left: 0;
      border-bottom: $border-width-thin dashed $color-border;
      content: ' ';
      z-index: 1;
    }
  }
}

.slds-timeline {
  /**
   * Icon associated with timeline item
   *
   * @selector .slds-timeline__icon
   * @restrict .slds-timeline__media .slds-media__figure
   * @required
   */
  &__icon {
    margin-top: ($spacing-small * -1);
    border: $border-width-thick solid #fff;
    border-top-width: $spacing-small;
    border-bottom-width: $spacing-small;
  }

  /**
   * Container for date and action overflow on the right of a timeline item
   *
   * @selector .slds-timeline__actions
   * @restrict .slds-timeline__media div
   * @notes This is directly inside the `.slds-media--reverse` > `.slds-media__figure`
   * @required
   */
  &__actions {
    display: flex;
    flex-flow: column nowrap;
    align-items: flex-end;
  }

  /**
   * Styles the date inside `.slds-timeline__actions`
   *
   * @selector .slds-timeline__date
   * @restrict .slds-timeline__actions p
   * @required
   */
  &__date {
    margin-bottom: $spacing-xx-small;
    font-size: $font-size-small;
    color: $color-text-weak;
  }

  /**
   * @selector .slds-timeline__media--call
   * @restrict .slds-timeline__media
   * @modifier
   */
  &__media_call:before,
  &__media--call:before {
    background: $log-a-call;
  }

  /**
   * @selector .slds-timeline__media--email
   * @restrict .slds-timeline__media
   * @modifier
   */
  &__media_email:before,
  &__media--email:before {
    background: $email;
  }

  /**
   * @selector .slds-timeline__media--event
   * @restrict .slds-timeline__media
   * @modifier
   */
  &__media_event:before,
  &__media--event:before {
    background: $event;
  }

  /**
   * @selector .slds-timeline__media--task
   * @restrict .slds-timeline__media
   * @modifier
   */
  &__media_task:before,
  &__media--task:before {
    background: $task;
  }
}
