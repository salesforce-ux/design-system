// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

/**
 * @summary Initializes a hero component
 *
 * @name base
 * @selector .slds-hero
 * @restrict div
 * @variant
 */

.slds-hero {

  input:not(:disabled) ~ label:hover .slds-hero-button__figure,
  .slds-hero-tile:hover {
    cursor: pointer;
    outline: 0;
    border: $border-width-thin solid $color-border-selection-hover;
    box-shadow: 0 0 0 1px $color-border-selection-hover inset;
  }
}

/**
 * Styles the checkbox and radio button components
 *
 * @name checkbox
 * @selector .slds-hero-button
 * @restrict .slds-hero
 * @variant
 */
.slds-hero-button {
  display: inline-flex;
  position: relative;
  flex-direction: column;
  border: 0;
  border-radius: 0;
  text-align: center;
  cursor: pointer;
  overflow: hidden;

  &:active {

    .slds-hero-button-figure {
      border: $border-width-thin solid $color-border-selection-hover;
      box-shadow: 0 0 0 1px $color-border-selection-hover inset;
    }
  }

  &:hover {

    .slds-hero-button__figure {
      cursor: pointer;
    }
  }

  // Hide input
  [type="radio"],
  [type="checkbox"] {
    @include square(1px);
    border: 0;
    clip: rect(0 0 0 0);
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;

    &:focus ~ label .slds-hero-button__figure {
      border: $border-width-thin solid $color-border-selection-hover;
      box-shadow: 0 0 0 1px $color-border-selection-hover inset;
    }

    &:checked ~ label .slds-hero-button__figure {
      box-shadow: $elevation-shadow-4;
    }

    &:checked ~ label .slds-hero-not-selected {
      display: none;
    }

    &:checked ~ label .slds-hero-selected {
      display: block;
    }

    &:checked ~ label .slds-hero-button__icon {
      background-color: $color-brand;
      border: $border-width-thin solid $color-border-selection-hover;
    }

    // scss-lint:disable NestingDepth
    /* stylelint-disable max-nesting-depth */
    &:checked ~ label .slds-hero-button__text {
      border: $border-width-thin solid $color-border-selection-hover;
      box-shadow: 0 0 0 1px $color-border-selection-hover inset;

      &:after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        border-color: transparent;
        border-style: solid;
        border-radius: 0.5rem;
        border-width: 1rem;
        border-right-color: $color-brand;
        border-top-color: $color-brand;
      }
    }

    // scss-lint:disable NestingDepth
    // scss-lint:disable SelectorDepth
    &[disabled] {
      cursor: not-allowed;
      user-select: none;

      ~ label .slds-hero-button--icon {

        .slds-icon {
          background-color: $color-background-button-brand-disabled;
        }
      }

      ~ label .slds-hero-button__body {
        color: $color-text-input-disabled;
      }

      ~ label .slds-hero-button__figure {

        &:hover {
          cursor: not-allowed;
          user-select: none;
          border: $border-width-thin solid $color-border;
          box-shadow: none;
        }
        /* stylelint-enable max-nesting-depth */
      }
    }
  }
}

/**
 * Tile/button image or icon
 *
 * @selector .slds-hero-button__figure
 * @restrict .slds-hero-button div, .slds-hero-button span
 */
.slds-hero-button__figure {
  display: inline-flex;
  flex-direction: column;
  flex-shrink: 0;
  background: $color-background-alt;
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.05);
  border: $border-width-thin solid $color-border;
  border-radius: $border-radius-medium;
  text-align: center;

  .slds-icon-action-check {
    background-color: $color-brand;
  }

  span {
    display: block;
  }
}

/**
 * Centers icon in an icon-only button
 *
 * @selector .slds-hero-button__icon
 * @restrict .slds-hero-tile a, .slds-hero-button div
 */

.slds-hero-button__icon {

  .slds-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0);
    margin-top: ($spacing-medium * -1);
  }
}

/**
 * Button size medium
 *
 * @selector .slds-hero-button_medium
 * @restrict .slds-hero-button div
 * @modifier
 */
.slds-hero-button_medium {

  .slds-hero-button__figure,
  .slds-hero-button__body {
    width: $size-x-small;
  }

  .slds-hero-button__figure {
    height: $size-x-small;
  }
}

/**
 * Button size large
 *
 * @selector .slds-hero-button_large
 * @restrict .slds-hero-button
 * @modifier
 */
.slds-hero-button_large {

  .slds-hero-button__figure,
  .slds-hero-button__body {
    width: $size-small;
  }

  .slds-hero-button__figure {
    height: $size-small;
  }
}

/**
 * Image or icon of a small tile
 *
 * @selector .slds-hero-button__text-check
 * @restrict .slds-hero-button
 */
.slds-hero-button__text-check {
  position: absolute;
  top: rem(-1px);
  right: rem(10px);
  width: $square-icon-x-small-content;
  height: $square-icon-x-small-content;
}

/**
 * Button/tile title, no description
 *
 * @selector .slds-hero-button__body
 * @restrict .slds-hero-button div
 */
.slds-hero-button__body {
  display: block;
  background: transparent;
  padding: $spacing-medium 0;
  border: 0;
  border-radius: 0;
}
