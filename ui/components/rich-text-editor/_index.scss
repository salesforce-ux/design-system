// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

/**
 * At a high-level, the buttons in RTE are organized into four groupings:
 * “format text”, “format body”, “insert content”, and “clear formatting”.
 *
 * The “clear formatting” button always stays at the end of the buttons set,
 * regardless of which rich text editor variant is used. It should always stand by itself.
 *
 * #### Accessibility
 *
 * Ensure that there is a single tab key stop for the button groups in the
 * toolbar, and that left and right arrows are used to navigate through each button.
 *
 * @summary The Rich Text Editor is a textarea with added capabilities for use in various publishers.
 *
 * @base
 * @name rich-text-editor
 * @selector .slds-rich-text-editor
 * @support dev-ready
 * @category feature
 * @type data-entry
 * @role textbox,toolbar
 */

/**
 * The default rich text editor contains a minimal amount of text formatting capabilities.
 *
 * @name base
 * @selector .slds-rich-text-editor
 * @restrict div
 * @variant
 */
.slds-rich-text-editor {
  min-width: $size-medium;
  min-height: $size-xx-small;
  border: $border-width-thin solid $color-border;
  border-radius: $border-radius-medium;
}

/**
 * Container for Rich Text Editor Toolbar
 *
 * @selector .slds-rich-text-editor__toolbar
 * @restrict .slds-rich-text-editor div
 * @required
 */
.slds-rich-text-editor__toolbar {
  white-space: nowrap;
  border-top-left-radius: $border-radius-medium;
  border-top-right-radius: $border-radius-medium;
  border-bottom: $border-width-thin solid $color-border;
}

@include mq-medium-min {

  .slds-rich-text-editor__toolbar,
  .slds-rich-text-editor__toolbar-bottom {
    flex-wrap: wrap;
    align-items: flex-start;
  }

  .slds-rich-text-editor__toolbar .slds-button-group-list,
  .slds-rich-text-editor__toolbar-bottom .slds-button-group-list {
    margin-right: $spacing-xx-small;
    margin-bottom: $spacing-xx-small;
    margin-left: 0;
  }
}

/**
 * Container for Rich Text Editor Bottom Toolbar
 *
 * @name bottom-toolbar
 * @selector .slds-rich-text-editor__toolbar-bottom
 * @restrict .slds-rich-text-editor div
 * @variant
 */
.slds-rich-text-editor__toolbar-bottom {
  white-space: nowrap;
  border-bottom-left-radius: $border-radius-medium;
  border-bottom-right-radius: $border-radius-medium;
  border-top: $border-width-thin solid $color-border;
}

/**
 * Textarea for Rich Text Editor containing editable div
 *
 * @selector .slds-textarea
 * @restrict .slds-rich-text-editor__textarea div
 * @required
 */
.slds-rich-text-editor__textarea .slds-textarea {
  min-height: $size-xx-small;
  vertical-align: middle;
  border: 0;

  &:focus,
  &:active {
    box-shadow: none;
  }
}

/**
 * Focus state for rich text editor
 *
 * @selector .slds-has-focus
 * @restrict .slds-rich-text-editor
 * @modifier
 */
.slds-rich-text-editor.slds-has-focus {
  border-color: $color-border-input-active;
  box-shadow: $shadow-button-focus;
}

/**
 * Error state for rich text editor
 *
 * @selector .slds-has-error
 * @restrict .slds-rich-text-editor
 * @modifier
 */
.slds-rich-text-editor.slds-has-error {
  border: $border-width-thick solid $color-border-error;

  .slds-textarea {
    box-shadow: none;
  }
}

.slds-picklist__label[disabled] .slds-icon {
  fill: $color-text-button-default-disabled;
}

[contenteditable]:focus {
  outline: none;
}
