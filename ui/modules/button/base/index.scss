// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

// ------------
// Init
// ------------
@import '../../../shared/common/init';


// ------------
// Mixins
// ------------
@import '../mixins/index';

/**
 * @summary This neutralizes all the base styles making it look like a text link
 * @name base
 * @selector .lwc-button
 * @restrict button, a
 * @variant
 */
.lwc-button {
  @include button-reset;
  @include button-normalize;
}

/**
 * @name brand
 * @summary Creates the Salesforce brand style
 * @selector .lwc-button_brand
 * @restrict .lwc-button
 * @modifier
 * @group theme
 */
.lwc-button_brand {
  @include button-shape;
  --lwc-c-button-color-background: var(--lwc-c-button-brand-color-background, var(--lwc-brand-accessible, $brand-accessible));
  --lwc-c-button-color-border: var(--lwc-c-button-brand-color-border, var(--lwc-brand-accessible, $brand-accessible));
  --lwc-c-button-color-text: var(--lwc-c-button-brand-color-text, $color-gray-1);
  --lwc-c-button-shadow: var(--lwc-c-button-brand-shadow, none);

  --lwc-c-button-color-text-active: var(--lwc-c-button-brand-color-text-active, $color-gray-1);
  --lwc-c-button-color-background-active: var(--lwc-c-button-brand-color-background-active, var(--lwc-c-brand-accessible-active, $brand-accessible-active));

  --lwc-c-button-color-background-disabled: $brand-disabled;
  --lwc-c-button-color-border-disabled: $brand-disabled;
  --lwc-c-button-color-text-disabled: $color-text-inverse;
}

/**
 * @name brand outline
 * @summary Creates the Salesforce brand button in an outline style
 * @selector .lwc-button_outline-brand
 * @restrict .lwc-button
 * @modifier
 * @group theme
 */
.lwc-button_brand-outline {
  @include button-shape;
  --lwc-c-button-color-background: var(--lwc-c-button-neutral-color-background, $color-gray-1);
  --lwc-c-button-color-border: var(--lwc-c-button-brand-color-border, var(--lwc-brand-accessible, $brand-accessible));

  --lwc-c-button-color-background-active: var(--lwc-c-button-neutral-color-background-active, $color-gray-2);
  --lwc-c-button-color-border-active: var(--lwc-c-button-brand-color-border-active, var(--lwc-brand-accessible, $brand-accessible));

  --lwc-c-button-color-background-disabled: $color-gray-1;
  --lwc-c-button-color-border-disabled: $color-border;
}

/**
 * @name destructive
 * @summary Creates the destructive button style
 * @selector .lwc-button_destructive
 * @restrict .lwc-button
 * @modifier
 * @group theme
 */
.lwc-button_destructive {
  @include button-shape;
  --lwc-c-button-color-background: $color-background-destructive;
  --lwc-c-button-color-border: $color-background-destructive;
  --lwc-c-button-color-text: $color-text-inverse;

  --lwc-c-button-color-background-active: $color-background-destructive-hover;
  --lwc-c-button-color-text-active: $color-text-inverse;

  --lwc-c-button-color-background-disabled: $brand-disabled;
  --lwc-c-button-color-border-disabled: $brand-disabled;
  --lwc-c-button-color-text-disabled: $color-text-inverse;
}

/**
 * @name destructive text
 * @summary Creates the destructive text button style
 * @selector .lwc-button_destructive-text
 * @restrict .lwc-button
 * @modifier
 * @group theme
 */
.lwc-button_destructive-text {
  @include button-shape;
  --lwc-c-button-color-background: var(--lwc-c-button-neutral-color-background, $color-gray-1);
  --lwc-c-button-color-border: var(--lwc-c-button-neutral-color-border, $color-border);
  --lwc-c-button-color-text: var(--lwc-c-button-destructive-color-text, $color-text-destructive);

  --lwc-c-button-color-background-active: var(--lwc-c-button-neutral-color-background-active, $color-gray-2);
  --lwc-c-button-color-border-active: var(--lwc-c-button-neutral-color-border-active, $color-border);
  --lwc-c-button-color-text-active: var(--lwc-c-button-destructive-color-text-active, $color-text-destructive-hover);

  --lwc-c-button-color-background-disabled: $color-gray-1;
  --lwc-c-button-color-border-disabled: $color-border;
}

/**
 * @name inverse
 * @summary Creates the inverse button style
 * @selector .lwc-button_inverse
 * @restrict .lwc-button
 * @modifier
 * @group theme
 */
.lwc-button_inverse {
  @include button-shape;
  --lwc-c-button-color-background: var(--lwc-c-button-inverse-color-background, transparent);
  --lwc-c-button-color-border: var(--lwc-c-button-inverse-color-border, $color-gray-1);
  --lwc-c-button-color-text: var(--lwc-c-button-inverse-color-text, $color-gray-1);

  --lwc-c-button-color-border-active: var(--lwc-c-button-inverse-color-border-active, $color-gray-1);
  --lwc-c-button-color-text-active: var(--lwc-c-button-inverse-color-text-active, $color-gray-3);

  --lwc-c-button-color-background-disabled: $color-background-button-inverse-disabled;
  --lwc-c-button-color-border-disabled: $color-border-button-inverse-disabled;
  --lwc-c-button-color-text-disabled: $color-text-button-inverse-disabled;

  &:focus {
    border: $border-width-thin solid var(--lwc-c-inverse-button-color-border-active, $color-border-button-focus-inverse);
    box-shadow: var(--lwc-c-inverse-button-shadow-active, $shadow-button-focus-inverse);
    outline: none;
  }
}

/**
 * @name success
 * @summary Creates the success button style
 * @selector .lwc-button_success
 * @restrict .lwc-button
 * @modifier
 * @group theme
 */
.lwc-button_success {
  @include button-shape;
  --lwc-c-button-color-background: $color-background-success;
  --lwc-c-button-color-border: $color-border-success;
  --lwc-c-button-color-text: $color-text-default;

  --lwc-c-button-color-border-active: $color-border-success-dark;
  --lwc-c-button-color-background-active: $color-border-success-dark;
  --lwc-c-button-color-text-active: $color-text-inverse;

  --lwc-c-button-color-background-disabled: $brand-disabled;
  --lwc-c-button-color-border-disabled: $brand-disabled;
  --lwc-c-button-color-text-disabled: $color-text-button-brand-disabled;
}

/**
 * @name neutral
 * @summary Creates the gray border with white background default style
 * @selector .lwc-button_neutral
 * @restrict .lwc-button
 * @modifier
 * @group theme
 */
.lwc-button_neutral {
  @include button-shape;
  --lwc-c-button-color-background: var(--lwc-c-button-neutral-color-background, $color-gray-1);
  --lwc-c-button-color-border: var(--lwc-c-button-neutral-color-border, $color-border);
  --lwc-c-button-color-text: var(--lwc-c-button-neutral-color-text, var(--lwc-brand-accessible, $brand-accessible));

  --lwc-c-button-color-background-active: var(--lwc-c-button-neutral-color-background-active, $color-gray-2);
  --lwc-c-button-color-border-active: var(--lwc-c-button-neutral-color-border-active, $color-border);

  --lwc-c-button-color-background-disabled: $color-gray-1;
  --lwc-c-button-color-border-disabled: $color-border;
}

/**
 * @name full width
 * @summary Creates the full width button style
 * @selector .lwc-button_full-width
 * @restrict .lwc-button
 * @modifier
 * @group size
 */
.lwc-button_full-width {
  width: 100%;
  justify-content: center;
}

/**
 * @name icon left
 * @summary Creates space to the right of an icon when used to wrap an icon component as a child of a button
 * @selector .lwc-button_icon-left
 * @restrict .lwc-button span
 */
.lwc-button__icon-left {
  display: inline-flex;
  align-self: center;
  margin-right: $spacing-x-small;
  --lwc-c-icon-color: currentColor;
}

/**
 * @name icon right
 * @summary Creates space to the left of an icon when used to wrap an icon component as a child of a button
 * @selector .lwc-button_icon-right
 * @restrict .lwc-button span
 */
.lwc-button__icon-right {
  display: inline-flex;
  align-self: center;
  margin-left: $spacing-x-small;
  --lwc-c-icon-color: currentColor;
}

.lwc-button_start {
  --lwc-c-button-radius: $border-radius-medium 0 0 $border-radius-medium;
}

.lwc-button_end {
  --lwc-c-button-radius: 0 $border-radius-medium $border-radius-medium 0;
  --lwc-c-button-shadow-brand: none;
}

/**
 * @name stateful
 * @summary
 * @selector .lwc-button_stateful
 * @restrict button, a
 * @variant
 */
.lwc-button_stateful {
  @include button-shape;
  --lwc-c-button-color-background: var(--lwc-c-button-neutral-color-background, $color-gray-1);
  --lwc-c-button-color-border: var(--lwc-c-button-neutral-color-border, $color-border);
  --lwc-c-button-color-text: var(--lwc-c-button-neutral-color-text, var(--lwc-brand-accessible, $brand-accessible));

  --lwc-c-button-color-background-active: var(--lwc-c-button-neutral-color-background-active, $color-gray-2);
  --lwc-c-button-color-border-active: var(--lwc-c-button-neutral-color-border-active, $color-border);

  --lwc-c-button-color-background-disabled: $color-gray-1;
  --lwc-c-button-color-border-disabled: $color-border;

  // Overriding Icon defaults
  --lwc-c-icon-color: var(--lwc-brand-accessible, $brand-accessible);
}

.lwc-button_stateful-text-not-selected,
.lwc-button_stateful-text-selected,
.lwc-button_stateful-text-selected-focused {
  display: var(--lwc-c-button-stateful-display, none);
}

/**
 * Default text state of an unselected stateful button
 *
 * @selector .lwc-button_stateful-text-not-selected
 * @restrict .lwc-button_stateful span
 */
.lwc-button_stateful-text-not-selected {
  --lwc-c-button-stateful-display: inline-flex;
}

/**
 * Default text state of a selected stateful button
 *
 * @selector .lwc-button_stateful-text-selected
 * @restrict .lwc-button_stateful span
 */

/**
 * Default text state of a selected and focused stateful button
 *
 * @selector .lwc-button_stateful-text-selected-focused
 * @restrict .lwc-button_stateful span
 */
.lwc-button_stateful-text-selected,
.lwc-button_stateful-text-selected-focused {
  --lwc-c-button-stateful-display: none;
}

/**
 * @summary Hide unselected text span when stateful button is pressed
 * @notes aria-pressed should be toggled with JavaScript
 */
[aria-pressed="true"] .lwc-button_stateful-text-not-selected {
  --lwc-c-button-stateful-display: none;
}

/**
 * @summary Show selected text span when stateful button is pressed
 * @notes aria-pressed should be toggled with JavaScript
 */
[aria-pressed="true"] .lwc-button_stateful-text-selected {
  --lwc-c-button-stateful-display: inline-flex;
}

[aria-pressed="true"]:not(:focus) {
  --lwc-c-button-color-border: transparent;
}

/**
 * @summary Hide selected-and-focused text span when stateful button is pressed AND hovered/focused
 * @notes aria-pressed should be toggled with JavaScript
 */
[aria-pressed="true"]:hover .lwc-button_stateful-text-selected,
[aria-pressed="true"]:focus .lwc-button_stateful-text-selected {
  --lwc-c-button-stateful-display: none;
}

/**
 * @summary Show selected-and-focused text span when stateful button is pressed AND hovered/focused
 * @notes aria-pressed should be toggled with JavaScript
 */
[aria-pressed="true"]:hover .lwc-button_stateful-text-selected-focused,
[aria-pressed="true"]:focus .lwc-button_stateful-text-selected-focused {
  --lwc-c-button-stateful-display: inline-flex;
}
